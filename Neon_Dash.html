<!DOCTYPE html>
<html>
<head>
<title>Neon Dash</title>
<style>
body {
  margin: 0;
  overflow: hidden;
  background: #000;
  font-family: Arial;
}

#game {
  width: 100vw;
  height: 300px;
  background: linear-gradient(#0f0f0f, #111);
  position: relative;
  overflow: hidden;
}

#player {
  width: 40px;
  height: 40px;
  background: #00f5ff;
  position: absolute;
  bottom: 40px;
  left: 100px;
  box-shadow: 0 0 15px #00f5ff;
  transition: height 0.1s;
}

.obstacle {
  width: 30px;
  height: 60px;
  background: #ff006e;
  position: absolute;
  bottom: 40px;
  box-shadow: 0 0 15px #ff006e;
}

.lowObstacle {
  width: 60px;
  height: 30px;
  background: #ff006e;
  position: absolute;
  bottom: 40px;
  box-shadow: 0 0 15px #ff006e;
}

#ground {
  width: 100%;
  height: 40px;
  background: #111;
  position: absolute;
  bottom: 0;
  box-shadow: 0 0 20px #00f5ff inset;
}

#score {
  position: absolute;
  top: 10px;
  left: 10px;
  color: #00f5ff;
}

#gameover {
  position: absolute;
  top: 40%;
  width: 100%;
  text-align: center;
  color: white;
  font-size: 30px;
  display: none;
}
</style>
<style>
  /* Instructions UI (added) */
  #rulesBtn{position:fixed;top:10px;right:12px;z-index:40;padding:8px 12px;border-radius:8px;border:none;background:#38bdf8;color:#fff;font-family:monospace;font-weight:700;cursor:pointer}
  #rulesBox{position:fixed;top:52px;right:12px;width:320px;background:rgba(0,0,0,0.85);color:#fff;padding:12px;border-radius:10px;display:none;font-family:monospace;font-size:14px;z-index:40}
</style>
</head>

<body>

<div id="game">
  <div id="score">Score: 0</div>
  <div id="player"></div>
  <div id="ground"></div>
  <div id="gameover">ðŸ’¥ CRASHED ðŸ’¥<br>Press R to Restart</div>
</div>

<script>
const player = document.getElementById("player");
const game = document.getElementById("game");
const scoreEl = document.getElementById("score");
const gameOverText = document.getElementById("gameover");

let y = 40;
let vy = 0;
let gravity = 1;
let onGround = true;
let sliding = false;
let speed = 6;
let score = 0;
let gameRunning = true;

/* GAME LOOP */
function loop() {
  if (!gameRunning) return;

  vy -= gravity;
  y += vy;

  if (y <= 40) {
    y = 40;
    vy = 0;
    onGround = true;
  }

  player.style.bottom = y + "px";

  score += 0.1;
  scoreEl.innerText = "Score: " + Math.floor(score);

  requestAnimationFrame(loop);
}
loop();

/* CONTROLS */
document.addEventListener("keydown", e => {
  if (!gameRunning && e.key === "r") location.reload();

  if (e.key === "ArrowUp" && onGround) {
    vy = 18;
    onGround = false;
  }

  if (e.key === "ArrowDown" && onGround) {
    sliding = true;
    player.style.height = "20px";
  }
});

document.addEventListener("keyup", e => {
  if (e.key === "ArrowDown") {
    sliding = false;
    player.style.height = "40px";
  }
});

/* SPAWN OBSTACLES */
function spawnObstacle() {
  if (!gameRunning) return;

  let type = Math.random();
  let obstacle = document.createElement("div");

  if (type < 0.5) {
    obstacle.className = "obstacle";
  } else {
    obstacle.className = "lowObstacle";
    obstacle.style.bottom = "80px";
  }

  obstacle.style.left = window.innerWidth + "px";
  game.appendChild(obstacle);

  let move = setInterval(() => {
    obstacle.style.left = obstacle.offsetLeft - speed + "px";

    if (hit(obstacle, player)) endGame();

    if (obstacle.offsetLeft < -100) {
      obstacle.remove();
      clearInterval(move);
    }
  }, 20);
}

/* COLLISION */
function hit(a, b) {
  let r1 = a.getBoundingClientRect();
  let r2 = b.getBoundingClientRect();
  return (
    r1.left < r2.right &&
    r1.right > r2.left &&
    r1.top < r2.bottom &&
    r1.bottom > r2.top
  );
}

/* END GAME */
function endGame() {
  gameRunning = false;
  gameOverText.style.display = "block";
}

/* SPEED INCREASE */
setInterval(() => {
  speed += 0.5;
}, 4000);

setInterval(spawnObstacle, 1500);
</script>

<button id="rulesBtn">ðŸ“œ INSTRUCTIONS</button>
<div id="rulesBox">
  <b>ðŸ“œ GAME INSTRUCTIONS</b><br><br>
  Dash through neon obstacles. Use timing to avoid collisions and collect points.<br>
</div>

<script>
  const rulesBtn = document.getElementById('rulesBtn');
  const rulesBox = document.getElementById('rulesBox');
  if (rulesBtn && rulesBox) rulesBtn.onclick = () => { rulesBox.style.display = rulesBox.style.display === 'block' ? 'none' : 'block'; };
</script>
</body>
</html>
