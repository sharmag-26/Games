# Developer Guide: Flower Garden

## 1) Architecture
TypeScript source of truth lives in `src/**/*.ts`.
Runtime JavaScript (`.js`) is generated by `tsc` in the same folders.

Core modules:
- `src/main.ts`: app bootstrap
- `src/config/gameConfig.ts`: constants and initial game data
- `src/core/dom.ts`: DOM registry
- `src/core/storage.ts`: browser persistence
- `src/game/FlowerGardenGame.ts`: high-level coordinator
- `src/game/systems/uiSystem.ts`: HUD, shop, selectors, status UI
- `src/game/systems/sceneSystem.ts`: plot/gardener layout + player scene positioning
- `src/game/systems/growthSystem.ts`: planting, growth, watering, harvest, coins
- `src/game/systems/tradeSystem.ts`: user/NPC trading rules

## 2) Prerequisites
- Node.js 18+
- npm

## 3) Install
```powershell
npm install
```

## 4) Build TypeScript
```powershell
npm run build
```

## 5) Run Local Server
```powershell
npm run dev
```
Open: `http://localhost:5173/`

## 6) Scripts
- `npm run build`: compile TypeScript with `tsc`
- `npm run dev`: build then start local dev server
- `npm run start`: alias for dev
- `npm run typecheck`: TS compile check without emit

## 7) Development Workflow
1. Edit only `.ts` source files.
2. Run `npm run build`.
3. Refresh browser.
4. Validate gameplay.

## 8) Incremental Typing Plan
Current migration uses permissive checking to keep momentum.
Next hardening steps:
1. Remove `// @ts-nocheck` file by file.
2. Add explicit class field/property types.
3. Enable stricter compiler flags progressively.

## 9) Runtime Notes
- UI is in `index.html` + `styles.css`.
- `index.html` loads `src/main.js` (generated).
- Game state persists in localStorage via `storage.ts`.